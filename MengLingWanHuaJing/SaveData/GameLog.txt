
BKE Compile time:Jul 14 2015 18:12:44
main.bkscr : *main
##
var _logo="image/menu/logo";//logo文件##
##
var _backgroundA="image/menu/main_backgroundA";//主菜单背景图片文件##
##
var _backgroundB="image/menu/main_backgroundB";//主菜单背景图片文件##
##
var _configBackground="image/menu/config_background";//Config菜单背景##
##
var _menu_layer=10;//Config层##
##
var _main_layer=8;//主菜单层##
##
var _background_layer=7;//主菜单背景层##
##
var _menuDocument="image/menu/";//放menu图片的文件夹路径##
##
var _saveBackground=_menuDocument+"save ui";//存档界面背景##
##
var _loadBackground=_menuDocument+"load ui";//读档界面背景##
##
var _sl_layer=30;//##
##
var _page_layer=40;//##
##
var _littlemenu_layer=50;//小菜单层##
##
var _saveCount=0;//存档数量##
##
var tFlag;##
##
var tbb;##
##
sf.page=0;##
##
var _menuDocument="image/menu/";//放menu图片的文件夹路径##
##
var _text_layer=500;##
##
var _logBackground=_menuDocument+"log ui";//历史记录界面的背景##
##
var _log_layer=700;##
##
var _ldMessage_layer=550;//对话框编号##
##
var _ldName_layer=600;//姓名框编号##
##
var _menu_layer=800;//菜单层##
##
var _saveBackground=_menuDocument+"SL_backgroundB";//存档界面背景##
##
var _loadBackground=_menuDocument+"SL_backgroundA";//读档界面背景##
##
global.SLflag;//存读档标记##
##
var _SL_label=300;//存档界面层，存读档界面的所有元素都放在这个层上##
##
var _SL_labelM=290;//存读档提示界面##
##
global.select = 0;##
@savepoint
@loadMainMenu
{
　menu_main.bkscr : *loadMainMenu
　@call label=*back
　menu_main.bkscr : *back
　#animeTest.enable=true;
　@removeall index=_menu_layer
　【错误】没有找到索引800对应的精灵，该精灵没有创建或者已被销毁。
　　　　　当试图执行命令（removeall）时该错误处于原文件（menu_main.bkscr）的第224行。
　@return
　@call label=*menuback
　menu_main.bkscr : *menuback
　@removeall index=_littlemenu_layer
　【错误】没有找到索引50对应的精灵，该精灵没有创建或者已被销毁。
　　　　　当试图执行命令（removeall）时该错误处于原文件（menu_main.bkscr）的第229行。
　@return
　@layer index=_main_layer width=System.resolutionSize[0] height=System.resolutionSize[1]
　@addto index=_main_layer target=basic_layer zorder=10 pos=[0, 0] opacity=255
　@layer index=_background_layer width=System.resolutionSize[0] height=System.resolutionSize[1]
　@addto index=_background_layer target=basic_layer zorder=0 pos=[0, 0] opacity=255
　@sprite index=0 file=_backgroundB
　@addto index=0 target=_background_layer zorder=0 pos=[0, 0] opacity=0
　@action mode="fadeto" opacity=255 time=3000 target=0
　@waitaction index=0 canskip=true
　@pretrans index=_main_layer
　@button index=1 idle=_menuDocument+"button_main_newgame_normal" hover=_menuDocument+"button_main_newgame_touch" click=_menuDocument+"button_main_newgame_click" onclick=["*modeSet","menu_main","call","mode=1"]
　@anchor index=1 set="center" keep=true
　@addto index=1 target=_main_layer zorder=0 pos=[908, 145] opacity=255
　@button index=2 idle=_menuDocument+"button_main_load_normal" hover=_menuDocument+"button_main_load_touch" click=_menuDocument+"button_main_load_click" onclick=["*modeSet","menu_main","call","mode=2"]
　@anchor index=2 set="center" keep=true
　@addto index=2 target=_main_layer zorder=0 pos=[903, 230] opacity=255
　@button index=3 idle=_menuDocument+"button_main_cg_normal" hover=_menuDocument+"button_main_cg_touch" click=_menuDocument+"button_main_cg_click" onclick=["*modeSet","menu_main","call","mode=3"]
　@anchor index=3 set="center" keep=true
　@addto index=3 target=_main_layer zorder=0 pos=[898, 315] opacity=255
　@button index=4 idle=_menuDocument+"button_main_config_normal" hover=_menuDocument+"button_main_config_touch" click=_menuDocument+"button_main_config_click" onclick=["*modeSet","menu_main","call","mode=4"]
　@anchor index=4 set="center" keep=true
　@addto index=4 target=_main_layer zorder=0 pos=[888, 400] opacity=255
　@button index=5 idle=_menuDocument+"button_main_exit_normal" hover=_menuDocument+"button_main_exit_touch" click=_menuDocument+"button_main_exit_click" onclick=["*modeSet","menu_main","call","mode=5"]
　@anchor index=5 set="center" keep=true
　@addto index=5 target=_main_layer zorder=0 pos=[873, 485] opacity=255
　@sprite index=6 file=_menuDocument+"main_title"
　@addto index=6 target=_main_layer zorder=0 pos=[0, 0] opacity=255
　@trans mode="universal" rule="image/rule/9" time=3000 index=_main_layer
　@waittrans index=_main_layer
　#t.menuAnima=true;//标记图A还图B
　@call label=*menuAnime
　menu_main.bkscr : *menuAnime
　#global.animeTest=Timer(function(){Scripts.call(*Anime,"menu_main");},interval=3000);
　#global.animeTest.interval=10000;
　#global.animeTest.enable=true;
　@return
　@waitbutton
　menu_main.bkscr : *modeSet
　#global.animeTest.enable=false;
　#log(global.animeText.enable);
　@remove index=_main_layer
　@jump file="main.bkscr" (main.bkscr) label="*start" (*start)
　main.bkscr : *start
　@loadTextbox
　{
　　ld_extend.bkscr : *loadTextbox
　　@ld_dialogbox
　　{
　　　ld_extend.bkscr : *ld_dialogbox
　　　@messagelayer index=_ldMessage_layer active=1
　　　@addto index=_ldMessage_layer target=basic_layer zorder=50
　　　@textwindow file=_menuDocument+"dialogBox" opacity=191 pos=[0, 448] rect=[134, 30, 736, 120] xinterval=1 yinterval=1
　　　@textstyle size=22 color=[16777215, 16777215] bold=true shadow=true
　　　@sprite index=_ldMessage_layer+1 file=_menuDocument+"star"
　　　@textcursor index=_ldMessage_layer+1 follow=false pos=[1018, 100]
　　　@messagelayer index=_ldName_layer active=1
　　　@addto index=_ldName_layer target=_ldMessage_layer zorder=50
　　　@textwindow opacity=255 pos=[157, 395] rect=[0, 0, 100, 40] xinterval=1 yinterval=1
　　　@textstyle size=21 bold=false
　　　@messagelayer index=_ldName_layer active=0
　　　@messagelayer index=_ldMessage_layer active=1
　　　@layer index=_menu_layer width=System.resolutionSize[0] height=System.resolutionSize[1]
　　　@button index=_menu_layer+1 idle=_menuDocument+"menu_background" onclick=["*ifMenu","ld_extend","call"]
　　　@addto index=_menu_layer+1 target=_menu_layer
　　　@sprite index=_menu_layer+2 file=_menuDocument+"menu_background2"
　　　@return
　　}
　　@ld_dialogboxButton
　　{
　　　ld_extend.bkscr : *ld_dialogboxButton
　　　@layer index=_text_layer width=System.resolutionSize[0] height=System.resolutionSize[1]
　　　@addto index=_text_layer target=basic_layer zorder=_text_layer
　　　@button index=501 idle=_menuDocument+"dialogBox_menu" hover=_menuDocument+"dialogBox_menu" click=_menuDocument+"dialogBox_menu" onclick=["*showMenu","ld_extend","call"]
　　　@addto index=501 target=_text_layer zorder=90 pos=[1022, 386]
　　　@return
　　}
　　@return
　}
　@sprite index=70 file="image/menu/road2"
　@addto index=70 target=basic_layer zorder=0 pos=[0, 0] opacity=255
　@wz
　{
　　macroself.bkscr : *wz
　　@er
　　@messagelayer index=_ldName_layer active=0
　　@messagelayer index=_ldMessage_layer active=1
　　@return
　}
　Hello
　@p
　This is test!
　@p
　@bgm file="sound/hand in hand"
　@sprite index=71 file="image/menu/ch1"
　@anchor index=71 set="bottomcenter" keep=true
　@addto index=71 target=basic_layer pos=[System.resolutionSize[0]/2,System.resolutionSize[1],] opacity=255
　@name name="雾樱"
　{
　　macroself.bkscr : *name
　　@er
　　@messagelayer index=_ldName_layer active=1
　　#log(name);
　　"雾樱"
　　@remove index=1001
　　[警告]没有找到索引1001对应的精灵，该精灵没有创建或者已被销毁。
　　　　　当试图执行命令（remove）时该错误处于原文件（macroself.bkscr）的第27行。
　　@sprite index=1001 file="image/menu/name_1"
　　@addto index=1001 target=500 pos=[157, 395]
　　@messagelayer index=_ldName_layer active=0
　　@messagelayer index=_ldMessage_layer active=1
　　@return
　}
　但是没有梦想的话，怎么成为梦想家呢。
　@p
